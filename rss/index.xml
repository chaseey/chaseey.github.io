<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Untitled RSS Feed]]></title><description><![CDATA[Untitled RSS Feed]]></description><link>https://chaseey.github.io</link><generator>RSS for Node</generator><lastBuildDate>Mon, 03 Apr 2017 08:57:21 GMT</lastBuildDate><atom:link href="https://chaseey.github.io/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[今天 scrapy 相关的问题记录]]></title><description><![CDATA[<h1 id="_py3_django_mysql" class="sect0">py3环境 django 使用 mysql源</h1>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">DATABASES = {
  'default':{
  ...
      'ENGINE': 'django.db.backends.mysql',
  ...
  }
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module: No module named 'MySQLdb'</pre>
</div>
</div>
<div class="paragraph">
<p>安装MySQL-python， 报错：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Collecting MySQL-python
  Downloading MySQL-python-1.2.5.zip (108kB)
    100% |████████████████████████████████| 112kB 19kB/s
    Complete output from command python setup.py egg_info:
    Traceback (most recent call last):
      File "&lt;string&gt;", line 1, in &lt;module&gt;
      File "/tmp/pip-build-h4euplk0/MySQL-python/setup.py", line 13, in &lt;module&gt;
        from setup_posix import get_config
      File "/tmp/pip-build-h4euplk0/MySQL-python/setup_posix.py", line 2, in &lt;module&gt;
        from ConfigParser import SafeConfigParser
    ModuleNotFoundError: No module named 'ConfigParser'
      ----------------------------------------
Command "python setup.py egg_info" failed with error code 1 in /tmp/pip-build-h4euplk0/MySQL-python/</code></pre>
</div>
</div>
<div class="paragraph">
<p>使用如下：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sudo apt-get install libmysqlclient-dev
sudo pip3 install -e git+git://github.com/theatlantic/django-mysqlndb-backend.git#egg=django-mysqlndb-backend</pre>
</div>
</div>
<div class="paragraph">
<p>django连接mysql出错</p>
</div>
<div class="literalblock">
<div class="content">
<pre>django.db.utils.OperationalError: (2002, "Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)")</pre>
</div>
</div>
<div class="paragraph">
<p>因为mysql server 使用 socket file ， 修改django.settings</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'HOST': '127.0.0.1',
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果都不成功，尝试用pymysql</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sudo pip3 install pymysql</pre>
</div>
</div>
<h1 id="__" class="sect0">插入数据库出错</h1>
<div class="paragraph">
<p>向mysql中插入数据时出现异常</p>
</div>
<div class="literalblock">
<div class="content">
<pre>_mysql_exceptions.OperationalError: (1366, "Incorrect string value: '\xE4\xB8 ......' for column 'pageSnapshot' at row 1")</pre>
</div>
</div>
<div class="paragraph">
<p>需要将表字符集修改为 <code>utf8_general_ci</code></p>
</div>
<div class="literalblock">
<div class="content">
<pre>mysql&gt; set names utf8;	# fix temporary</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># my.cnf for mysql5.5
[mysqld]
character-set-server = utf8</code></pre>
</div>
</div>
<h1 id="_sqlite" class="sect0">sqlite出错</h1>
<div class="literalblock">
<div class="content">
<pre>No module named '_sqlite3'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>sudo pip3 install sqlite3  # install it</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>RuntimeError: Package 'sqlite3' must not be downloaded from pypi</pre>
</div>
</div>
<div class="paragraph">
<p>原因： sqlite不是独立模拟， 是python一个内置模块， 所以更新python吧</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>yum install sqlite-devel
cd /path/to/Python3.5-source-code/
./configure  --enable-loadable-sqlite-extensions
make
make altinstall</code></pre>
</div>
</div>]]></description><link>https://chaseey.github.io2017-3-31-scrapy.adoc</link><guid isPermaLink="true">https://chaseey.github.io2017-3-31-scrapy.adoc</guid><category><![CDATA[scrapy]]></category><category><![CDATA[python3]]></category><category><![CDATA[pip]]></category><category><![CDATA[spider]]></category><dc:creator><![CDATA[kidd]]></dc:creator><pubDate>Thu, 30 Mar 2017 16:00:00 GMT</pubDate></item><item><title><![CDATA[start blog]]></title><description><![CDATA[<div class="sect1">
<h2 id="_first_post">first post</h2>
<div class="sectionbody">
<hr>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import os
os.system('echo "Hello world"')</code></pre>
</div>
</div>
</div>
</div>]]></description><link>https://chaseey.github.io/2017/03/30/start-blog.html</link><guid isPermaLink="true">https://chaseey.github.io/2017/03/30/start-blog.html</guid><dc:creator><![CDATA[kidd]]></dc:creator><pubDate>Thu, 30 Mar 2017 00:00:00 GMT</pubDate></item></channel></rss>